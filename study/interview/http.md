# 网络相关

## http相关内容

### http0.9

最初版本的http内容， 只支持get的文本传输

并且必须返回html的文档格式

### http1.0

1. 支持了更多的协议头， post， head
2. 支持了更多的文本格式， content-type
3. 请求格式发生变化， 请求头 + 请求体
4. 响应格式发生变化， 响应头 + 响应体

> 缺点
> 一个tcp连接只能支持一次请求，在一次请求之后会断开连接，可以使用connection: keep-alive，但是不同服务端可能实现会存在不同

### http1.1

1. 支持了长链接，一个请求结束后默认不关闭
2. 支持管道传输，同一个tcp连接可以发送多个请求
3. 添加content-length，申明回应的数据长度
4. 分块传输，（Transfer-Encoding: chunked）

> 缺点
> 在管道传输中，因为会提前先分配每个请求在哪个tcp连接下面， 如果前一个请求没有结束，那么后一个请求就会被前一个阻塞，这叫做队头阻塞

### http2

1. 多路复用
2. 服务端push
3. 二进制协议
4. 头部压缩
5. 数据流

由于在http2里面，请求是以二进制帧的形式发送的，并且保存的方式是以数据流的方式存储，所以每个帧里面都携带上了对应数据流的id，这样就能保证接口请求返回的时候可以不需要等待前一个返回，他们可以同时进行处理， 处理的结果就是以帧的头部内容找到对应的数据流进行储存最后完成请求

数据包发送到一半，在http2里面可以取消这个数据包的发送， 而在http1.1里面只能关闭tcp的链接才行

