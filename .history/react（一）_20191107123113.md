## react 的学习心路历程

### react hooks

#### hooks出现的原因

1. 在组件之间难以复用状态逻辑
2. 组件变的难以理解
3. 取消class之间的难以理解的部分
    - this的指向
    - 方法的绑定
    - 在funtional和class之间来回切换
    - funtional还是class之间区分场景的使用
4. 不依赖其他的第三方数据管理库
5. 不影响class的使用，将会用hook渐进式取代class

#### hook 使用

1. hook只能在函数最外层调用
2. 只能在react的函数式组件中使用hook
3. 不要在循环，条件或嵌套函数中调用 Hook

#### state hook

> 调用react的useState

#### effect hook

> 调用react的useEffect

1. 在组件更新之后会默认调用
2. effect 返回一个函数做清除副作用工作
3. 组件在渲染之后调用新的effect之前清除函数会被调用
4. 声明多个effect hook的时候，会根据声明的顺序依次调用
5. 传递第二个参数，用于进行性能优化，判断当前传入的第二个参数是否发生改变而去调用effect

#### 自定义 hook

1. 自定义hook必须以use开头
2. 在于重用逻辑而不在于重用状态

#### 使用hook仿写redux

用到的方法： 
    useContext，useReducer，createContext
自定义的hook：
    useStore
自定义的方法：
    createStore，mergeReducer
自定义的高阶组件：
    StoreProvider

##### 使用方法

1. 在初始化app中调用createStore生成store
2. 可以使用mergeReducer，添加多个reducer
3. 在入口文件中引用StoreProvider的高阶组件，传入store（createStore生成的）
4. 在各自子组件当中使用useStore获取[state, dispatch];
